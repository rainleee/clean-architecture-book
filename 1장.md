# Clean Architecture

# 1부 소개

- 프로그램이 동작하도록 만드는데 엄청난 수준의 지식과 기술이 필요하지 않다. 언제든 어린 고등학생이라도 할 수 있는 일이다.
- 전 세계의 수많은 초급 프로그래머가 칸막이로 나뉜 작은 사무실에서 이슈 추적 시스템에 등록된 거대한 요구사항 문서들을 순전히 강인한 정신력만으로 힘겹게 해결해 내면서 시스템을 **동작**하도록 만든다. 이들이 작성한 코드는 그다지 깔끔하지 않을 순 있지만, 동작은한다. 프로그램을 동작하게 만들기는 그리 어려운일이 아니기 때문이다.
- 하지만 프로그램을 제대로 만드는 일은 전혀 다르다. 소프트웨어를 올바르게 만드는 일은 어렵다. 대다수의 젊은 프로그래머는 이 수준에 도달하지 못했다. 또한 사고력과 통찰력을 갖춰야 하지만, 대다수의 프로그래머는 시간을 들여 이러한 능력을 개발하지 않는다.
- 반면 소프트웨어를 제대로 만들게 되면 마법과도 같은 일이 벌어진다. 소수의 프로그래머만으로 프로그램이 지속적으로 동작하도록 만들 수 있다. 거대한 요구사항 문서와 이슈가 수없이 등록된 이슈 추적 시스템도 필요가 없다.

## 1장 설계와 아키텍처란?

- 설계(design)와 아키텍처(architecture) 사이에는 오랫동안 많은 혼란이 있었다. 설계란 무엇인가? 아키텍처는? 둘 사이에 어떤 차이가 있는가? 주장하고 싶은 바는 둘 사이에는 차이가 없다는 점이다.

### 아키텍처

- 저수준의 세부사항과 분리된 고수준의 무언가를 가리킬 때 사용

### 설계

- 저수준의 구조 또는 결정사항 등을 의미

### 예시

- 새로운 집을 설계하는 아키텍트가 있다고 하자. 이 집의 아키텍처는 무엇인가? 집의 형태, 외관, 입면도, 공간이나 방의 배치 등이 여기에 포함된다. 하지만 아키텍트가 만든 도면을 설펴보면 무수히 많은 저수준의 세부사항도 확인할 수 있다.
- 콘센트, 전등 스위치, 전등이 모두 어디에 위치하는지를 도면에서 알 수 있다. 다시 말해, 모든 고수준의 결정사항을 지탱하는 모든 세부사항을 자세하게 확인할 수 있다.
- 소프트웨어 설계도 마찬가지다. 저수준의 세부사항과 고수준의 구조는 모두 소프트웨어 전체 설계의 구성요소다. 이 둘은 단절 없이 이어진 직물과 같으며, 이를 통해 대상 시스템의 구조를 정의한다. 개별로는 존재할 수 없고, 실제로 이 둘을 구분 짓는 경계는 뚜렷하지 않다.

### 좋은 소프트웨어 설계 목표

- 소프트웨어 아키텍처의 목표는 필요한 시스템을 만들고 유지보수하는 데 투입되는 인력을 최소화하는 데 있다.
- 훌륭하고 깔끔하게 잘 설계된 코드가 중요하다는 사실을 개발자는 항시 인지해야 한다.

> 코드는 나중에 정리하면 돼. 당장은 시장에 출시하는게 먼저야!
> 
- 하지만 결국 개발자는 절대로 태세를 전환하지 않는다. 이전에 작성한 코드로 돌아가 정리하는 일은 일어나지 않는데, 바로 다음에 만들어야 할 새로운 기능이 기다리고 있고, 다음기능, 또 다음 기능이 계속 기다리기 때문이다. **결국 엉망진창이 되고 생산성은 0을 향해 수렴하기 시작한다.**
- 생산성이 감소되고 비용이 증가하는 현상을 되돌릴 수 있는 유일한 방법은 개발자로 하여금 이솝우화의 토끼처럼 과신하려는 믿음을 버리고, 만들어 낸 엉망진창인 코드를 개발자가 책임지도록 하는 것 뿐이다.

### 결론

- 어떠한 경우라도 개발 조직이 할 수 있는 최고의 선택지는 조직에 스며든 과신을 인지하여 방지하고, 소프트웨어 아키텍처의 품질을 심각하게 고민하기 시작하는 것.

## 2장 두가지 가치에 대한 이야기

- 모든 소프트웨어 시스템은 이해관계자에게 서로 다른 두 가지 가치를 제공하는데, ```행위(behavior)```와 ```구조(structure)```이다.

### 행위

- 프로그래머를 고용하는 이유는 이해관계자를 위해 기계가 수익을 창출하거나 비용을 절약하도록 만들기 위해서이다. 기계가 이러한 요구사항을 위반하면, 프로그래머는 디버거를 열고 문제를 고친다.
- 많은 프로그래머가 이러한 활동이 자신이 해야 할 일의 전부라고 생각한다. 이들은 요구사항을 기계에 구현하고 버그를 수정하는 일이 자신의 작업이라고 믿는다. 슬픈 일이지만 그들은 틀렸다.

### 아키텍처

- `소프트웨어` 라는 단어는 부드러운(soft)과 `제품(ware)`이라는 단어의 합성어다.
- 소프트웨어는 **부드러움을 지니도록** 만들어 졌다. 기계의 행위를 쉽게 변경할 수 있도록 하기 위해서다. 이러한 변경사항을 적용하는 데 드는 어려움은 변경되는 범위(scope)에 비례해야 하며, 변경사항의 형태와는 관련이 없어야 한다.
- 아키텍처가 특정 형태를 다른 형태보다 선호하면 할수록, 새로운 기능을 이 구조에 맞추는게 더 힘들어진다. **따라서 아키텍처는 형태에 독립적이어야 하고, 그럴수록 더 실용적이다.**

### 아이젠하워 매트릭스

<img width="545" alt="image" src="https://user-images.githubusercontent.com/50471668/221404132-c9229c4c-2191-4204-984c-29489246aec9.png">


1. 긴급하고 중요한
2. 긴급하지는 않지만 중요한
3. 긴급하지만 중요하지 않은
4. 긴급하지도 중요하지도 않은
- 아키텍처, 즉 중요한 일은 이 항목의 가장 높은 두 순위를 차지하는 반면, 행위는 첫 번째와 세 번째에 위치한다는 점을 주목하자.
- 업무 관리자와 개발자가 흔하게 저지르는 실수는 세 번째에 위치한 항목을 첫 번째로 격상시켜 버리는 일이다. **다시 말해 긴급하지만 중요하지 않은 기능과 진짜로 긴급하면서 중요한 기능을 구분하지 못한다.** 이러한 실패로 인해 **시스템에서 중요도가 높은 아키텍처를 무시한 채 중요도가 떨어지는 기능을 선택하게 된다.**

### 아키텍처를 위해 투쟁하라

- 책을 다하려면 싸움판에 뛰어들어야 한다. 효율적인 소프트웨어 개발팀은 뻔뻔함을 무릎쓰고 다른 이해관계자들과 동등하게 논쟁한다. **소프트웨어 개발자인 당신도 이해관계자임을 명심하라.**
